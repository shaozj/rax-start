{"version":3,"sources":["webpack:///webpack/bootstrap 5c2f8dc8061f89816bf2?67be","webpack:///./packages/rax/src/vdom/host.js?b8b3","webpack:///./packages/rax/src/vdom/instance.js?ebee","webpack:///./packages/rax/src/vdom/instantiateComponent.js?6be0","webpack:///./packages/universal-env/lib/index.js?8271","webpack:///./packages/rax/src/vdom/shouldUpdateComponent.js?34ee","webpack:///./packages/rax/src/component.js?61e4","webpack:///./packages/rax/src/debug/hook.js?4431","webpack:///./packages/rax/src/element.js?74eb","webpack:///./packages/rax/src/unmountComponentAtNode.js?9f4c","webpack:///./packages/rax/src/vdom/native.js?6a1d","webpack:///./packages/rax/src/vdom/ref.js?b717","webpack:///./packages/rax/src/vdom/getElementKeyName.js?3891","webpack:///./packages/style-unit/lib/index.js?47ed","webpack:///./packages/driver-weex/lib/parseProps.js?d6dc","webpack:///./packages/rax/src/findDOMNode.js?f0bb","webpack:///./packages/rax/src/index.js?c94d","webpack:///./packages/rax/src/debug/devtools.js?195e","webpack:///./packages/rax/src/flattenChildren.js?7c08","webpack:///./packages/rax/src/vdom/root.js?7264","webpack:///./packages/rax/src/purecomponent.js?1d47","webpack:///./packages/rax/src/proptypes.js?9d3e","webpack:///./packages/rax/src/render.js?713f","webpack:///./packages/rax/src/inject.js?2217","webpack:///./packages/rax/src/vdom/empty.js?1b9f","webpack:///./packages/rax/src/vdom/text.js?6f85","webpack:///./packages/rax/src/vdom/composite.js?b2e2","webpack:///./packages/rax/src/vdom/stateless.js?212c","webpack:///./packages/rax/src/vdom/updater.js?4764","webpack:///./packages/rax/src/vdom/shallowEqual.js?9d24","webpack:///./packages/rax/src/vdom/fragment.js?1d8d","webpack:///./packages/driver-weex/lib/index.js?9838","webpack:///./packages/driver-weex/lib/elements/index.js?f4ac","webpack:///./packages/driver-weex/lib/elements/img.js?73c5","webpack:///./packages/driver-weex/lib/elements/video.js?71cd","webpack:///./packages/driver-weex/lib/elements/textarea.js?e019","webpack:///./packages/driver-weex/lib/elements/span.js?cd31","webpack:///./packages/driver-weex/lib/elements/p.js?cb7a","webpack:///./packages/driver-weex/lib/elements/button.js?978b","webpack:///./packages/driver-weex/lib/elements/heading.js?6b20","webpack:///./packages/driver-weex/lib/elements/block.js?ac68","webpack:///./packages/driver-browser/lib/index.js?292b","webpack:///./packages/driver-browser/lib/flexbox.js?766b","webpack:///./packages/rax/src/findComponentInstance.js?e49b","webpack:///./packages/rax/src/setNativeProps.js?1d01","webpack:///./packages/rax/src/version.js?7a28"],"names":["component","mountID","sandbox","rootComponents","rootInstances","hook","driver","monitor","KEY","set","node","instance","rootID","_internal","get","remove","render","element","container","measurer","beforeRender","createBody","prevRootInstance","hasPrevRootInstance","isRootComponent","prevRenderedComponent","getRenderedComponent","prevElement","_currentElement","prevUnmaskedContext","_context","updateComponent","Reconciler","unmountComponent","childNodes","i","length","rootChildNode","hasAttribute","removeChild","wrappedElement","renderedComponent","defaultContext","rootInstance","mountComponent","afterRender","Mount","_renderNewRootComponent","instantiateComponent","undefined","EmptyComponent","Array","isArray","FragmentComponent","type","NativeComponent","CompositeComponent","TextComponent","Error","JSON","stringify","_mountIndex","Object","defineProperty","exports","value","_typeof","Symbol","iterator","obj","constructor","prototype","isWeb","navigator","appCodeName","product","isNode","process","versions","isWeex","callNative","isReactNative","__fbBatchedBridgeConfig","shouldUpdateComponent","nextElement","prevEmpty","nextEmpty","prevType","nextType","key","Component","props","context","updater","refs","partialState","callback","setState","forceUpdate","ComponentTree","getClosestInstanceFromNode","getNodeFromInstance","inst","_renderedComponent","_nativeNode","_instancesByReactRootID","receiveComponent","createElement","createFactory","cloneElement","isValidElement","RESERVED_PROPS","ref","getRenderErrorInfo","name","getName","Element","owner","filterProps","_owner","flattenStyle","style","result","computedStyle","children","map","val","join","String","config","propName","hasOwnProperty","defaultProps","factory","bind","assign","object","unmountComponentAtNode","STYLE","CHILDREN","TREE","EVENT_PREFIX_REGEXP","parent","parentInstance","childMounter","_parent","_parentInstance","_mountID","appendType","append","_instance","_prevStyleCopy","nativeNode","getNativeNode","appendChild","attach","mountChildren","renderedChildren","_renderedChildren","renderedChildrenImage","index","renderedChild","mountImage","notRemoveChild","detach","removeAllEventListeners","unmountChildren","prevContext","nextContext","update","prevProps","nextProps","updateProperties","updateChildren","propKey","styleName","styleUpdates","lastStyle","test","removeEventListener","slice","toLowerCase","removeAttribute","nextProp","prevProp","addEventListener","payload","setAttribute","recordOperation","instanceID","setStyles","nextChildrenElements","prevChildren","nextChildren","oldNodes","prevChild","oldNativeNode","firstPrevChild","delayRemoveFirstPrevChild","shouldRemove","lastIndex","nextIndex","lastPlacedNode","nextNativeNode","nextChild","prevChildNativeNode","insertAfter","concat","Math","max","newChild","oldChild","lastNewChild","child","replaceChild","prevFirstNativeNode","insertBefore","splice","push","prevRef","nextRef","ownerComponent","getPublicInstance","elementKey","hasKey","defaultName","toString","keyName","keyUnique","console","warn","isRem","calcRem","getRem","setRem","isUnitNumber","convertUnit","UNITLESS_NUMBER_PROPS","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridColumn","fontWeight","lineClamp","opacity","order","orphans","tabSize","widows","zIndex","zoom","lines","SUFFIX","REM_REG","defaultRemUnit","str","indexOf","remUnit","arguments","replace","rem","parseFloat","prop","transformPropsAttrsToStyle","renamePropsAttr","attrs","forEach","attr","originalAttrName","newAttrName","findDOMNode","ownerDocument","nodeType","getElementById","internal","PureComponent","PropTypes","findComponentInstance","setNativeProps","version","__REACT_DEVTOOLS_GLOBAL_HOOK__","inject","flattenChildren","traverseChildren","l","rootCounter","Root","createChainableTypeChecker","validate","checkType","isRequired","componentName","location","propFullName","typeChecker","chainedCheckType","createTypeChecker","expectedType","array","bool","func","number","string","symbol","any","arrayOf","instanceOf","objectOf","oneOf","oneOfType","shape","options","rootComponent","call","deviceWidth","viewportWidth","setDeviceWidth","setViewportWidth","createEmpty","_stringText","updateText","createText","performInSandbox","fn","e","handleError","error","boundary","componentDidCatch","setTimeout","measureLifeCycle","beforeLifeCycle","afterLifeCycle","displayName","_updateCount","beforeMountComponent","publicProps","isClass","isComponentClass","isStatelessClass","publicContext","_processContext","renderedElement","initialState","state","errorCallback","componentWillMount","_processPendingState","_processChildContext","componentDidMount","afterMountComponent","componentWillUnmount","_pendingStateQueue","_pendingForceUpdate","contextTypes","maskedContext","contextName","currentContext","childContext","getChildContext","queue","nextState","partial","nextUnmaskedContext","beforeUpdateComponent","willReceive","hasReceived","componentWillReceiveProps","_pendingState","shouldUpdate","prevState","shouldComponentUpdate","isPureComponentClass","componentWillUpdate","_updateRenderedComponent","componentDidUpdate","callbacks","_pendingCallbacks","runCallbacks","afterUpdateComponent","prevRenderedElement","nextRenderedElement","StatelessComponent","pureRender","enqueueCallback","callbackQueue","enqueueState","stateQueue","Updater","runUpdate","is","x","y","shallowEqual","objA","objB","keysA","keys","keysB","fragment","isFragmentParent","_styleUnit","require","_elements","_elements2","_interopRequireDefault","__esModule","default","ID","TEXT","ARIA_PREFIX_REGEXP","nodeMaps","document","__weex_document__","Driver","getDeviceWidth","width","getViewportWidth","id","body","documentElement","createComment","content","text","htmlElement","parse","events","originStyle","parentNode","previousSibling","nextSibling","after","before","eventName","eventHandler","addEvent","removeEvent","propValue","setAttr","m","p1","toUpperCase","styles","setStyle","open","listener","createFinish","close","skipSetStyles","module","_img","_img2","_video","_video2","_textarea","_textarea2","_span","_span2","_p","_p2","_button","_button2","_heading","_heading2","_block","_block2","span","p","img","button","video","textarea","h1","h2","h3","h4","h5","h6","nav","article","section","footer","aside","main","_parseProps","_extends","target","source","BASE_FONT_SIZE","defaultParagraphStyle","fontSize","marginTop","marginBottom","TypographyElements","u","textDecoration","s","fontStyle","b","del","em","strong","big","small","transformString","transformChild","nestedChildren","transformChildren","elements","disabled","textStyle","textAlign","paddingTop","paddingRight","paddingBottom","paddingLeft","borderWidth","borderStyle","borderColor","backgroudColor","onClick","color","generateHeadingStyle","baseFontSize","fontMultiplier","marginMultiplier","HeadingElements","_flexbox","_flexbox2","DANGEROUSLY_SET_INNER_HTML","CLASS_NAME","CLASS","DEVICE_WIDTH","VIEWPORT_WIDTH","clientWidth","createTextNode","textContentAttr","innerHTML","__html","tranformedStyles","isFlexProp","_prop","transformValue","BOX_ALIGN","stretch","center","BOX_ORIENT","row","column","BOX_PACK","FLEX_PROPS","display","alignItems","alignSelf","flexDirection","justifyContent","flexWrap","Flexbox","webkitBoxFlex","webkitFlex","webkitBoxAlign","webkitAlignItems","webkitAlignSelf","webkitBoxOrient","webkitFlexDirection","webkitBoxPack","webkitJustifyContent"],"mappings":"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","file":"rax.factory.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5c2f8dc8061f89816bf2","/*\n * Stateful things in runtime\n */\nexport default {\n  component: null,\n  mountID: 1,\n  sandbox: true,\n  // Roots\n  rootComponents: {},\n  rootInstances: {},\n  // Inject\n  hook: null,\n  driver: null,\n  monitor: null\n};\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/host.js","import Host from './host';\nimport {createElement} from '../element';\nimport unmountComponentAtNode from '../unmountComponentAtNode';\nimport instantiateComponent from './instantiateComponent';\nimport shouldUpdateComponent from './shouldUpdateComponent';\nimport Root from './root';\nimport {isWeb} from 'universal-env';\n\n/**\n * Instance manager\n */\nconst KEY = '$$instance';\n\nexport default {\n  set(node, instance) {\n    if (!node[KEY]) {\n      node[KEY] = instance;\n      // Record root instance to roots map\n      if (instance.rootID) {\n        Host.rootInstances[instance.rootID] = instance;\n        Host.rootComponents[instance.rootID] = instance._internal;\n      }\n    }\n  },\n  get(node) {\n    return node[KEY];\n  },\n  remove(node) {\n    let instance = this.get(node);\n    if (instance) {\n      node[KEY] = null;\n      if (instance.rootID) {\n        delete Host.rootComponents[instance.rootID];\n        delete Host.rootInstances[instance.rootID];\n      }\n    }\n  },\n  render(element, container) {\n    if (process.env.NODE_ENV !== 'production') {\n      Host.measurer && Host.measurer.beforeRender();\n    }\n\n    // Before render callback\n    Host.driver.beforeRender && Host.driver.beforeRender();\n\n    // Real native root node is body\n    if (container == null) {\n      container = Host.driver.createBody();\n    }\n\n    let prevRootInstance = this.get(container);\n    let hasPrevRootInstance = prevRootInstance && prevRootInstance.isRootComponent;\n\n    if (hasPrevRootInstance) {\n      let prevRenderedComponent = prevRootInstance.getRenderedComponent();\n      let prevElement = prevRenderedComponent._currentElement;\n      if (shouldUpdateComponent(prevElement, element)) {\n        let prevUnmaskedContext = prevRenderedComponent._context;\n        prevRenderedComponent.updateComponent(\n          prevElement,\n          element,\n          prevUnmaskedContext,\n          prevUnmaskedContext\n        );\n\n        return prevRootInstance;\n      } else {\n        Host.hook.Reconciler.unmountComponent(prevRootInstance);\n        unmountComponentAtNode(container);\n      }\n    }\n\n    // Handle server rendered element\n    if (isWeb && container.childNodes) {\n      // Clone childNodes, Because removeChild will causing change in childNodes length\n      const childNodes = [...container.childNodes];\n\n      for (let i = 0; i < childNodes.length; i ++) {\n        const rootChildNode = childNodes[i];\n        if (rootChildNode.hasAttribute && rootChildNode.hasAttribute('data-rendered')) {\n          Host.driver.removeChild(rootChildNode, container);\n        }\n      }\n    }\n\n    let wrappedElement = createElement(Root, null, element);\n    let renderedComponent = instantiateComponent(wrappedElement);\n    let defaultContext = {};\n    let rootInstance = renderedComponent.mountComponent(container, null, defaultContext);\n    this.set(container, rootInstance);\n\n    // After render callback\n    Host.driver.afterRender && Host.driver.afterRender(rootInstance);\n\n    // Devtool render new root hook\n    Host.hook.Mount._renderNewRootComponent(rootInstance._internal);\n\n    if (process.env.NODE_ENV !== 'production') {\n      Host.measurer && Host.measurer.afterRender();\n    }\n\n    return rootInstance;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/instance.js","import Host from './host';\n\nfunction instantiateComponent(element) {\n  let instance;\n\n  if (element === undefined || element === null || element === false || element === true) {\n    instance = new Host.EmptyComponent();\n  } else if (Array.isArray(element)) {\n    instance = new Host.FragmentComponent(element);\n  } else if (typeof element === 'object' && element.type) {\n    // Special case string values\n    if (typeof element.type === 'string') {\n      instance = new Host.NativeComponent(element);\n    } else {\n      instance = new Host.CompositeComponent(element);\n    }\n  } else if (typeof element === 'string' || typeof element === 'number') {\n    instance = new Host.TextComponent(element);\n  } else {\n    throw Error(`Invalid element type ${JSON.stringify(element)}`);\n  }\n\n  instance._mountIndex = 0;\n\n  return instance;\n}\n\nexport default instantiateComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/instantiateComponent.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n// https://www.w3.org/TR/html5/webappapis.html#dom-navigator-appcodename\nvar isWeb = exports.isWeb = (typeof navigator === 'undefined' ? 'undefined' : _typeof(navigator)) === 'object' && (navigator.appCodeName === 'Mozilla' || navigator.product === 'Gecko');\nvar isNode = exports.isNode = typeof process !== 'undefined' && !!(process.versions && process.versions.node);\nvar isWeex = exports.isWeex = typeof callNative === 'function';\nvar isReactNative = exports.isReactNative = typeof __fbBatchedBridgeConfig !== 'undefined';\n\n\n// WEBPACK FOOTER //\n// ./packages/universal-env/lib/index.js","function shouldUpdateComponent(prevElement, nextElement) {\n  // TODO: prevElement and nextElement could be array\n  let prevEmpty = prevElement === null;\n  let nextEmpty = nextElement === null;\n  if (prevEmpty || nextEmpty) {\n    return prevEmpty === nextEmpty;\n  }\n\n  let prevType = typeof prevElement;\n  let nextType = typeof nextElement;\n  if (prevType === 'string' || prevType === 'number') {\n    return nextType === 'string' || nextType === 'number';\n  } else {\n    return (\n      prevType === 'object' &&\n      nextType === 'object' &&\n      prevElement.type === nextElement.type &&\n      prevElement.key === nextElement.key\n    );\n  }\n}\n\nexport default shouldUpdateComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/shouldUpdateComponent.js","/**\n * Base component class.\n */\nclass Component {\n  constructor(props, context, updater) {\n    this.props = props;\n    this.context = context;\n    this.refs = {};\n    this.updater = updater;\n  }\n\n  isComponentClass() {}\n\n  setState(partialState, callback) {\n    this.updater.setState(this, partialState, callback);\n  }\n\n  forceUpdate(callback) {\n    this.updater.forceUpdate(this, callback);\n  }\n}\n\nexport default Component;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/component.js","import instance from '../vdom/instance';\nimport Host from '../vdom/host';\n\nexport default {\n  ComponentTree: {\n    getClosestInstanceFromNode(node) {\n      return instance.get(node);\n    },\n    getNodeFromInstance(inst) {\n      // inst is an internal instance (but could be a composite)\n      while (inst._renderedComponent) {\n        inst = inst._renderedComponent;\n      }\n\n      if (inst) {\n        return inst._nativeNode;\n      } else {\n        return null;\n      }\n    }\n  },\n  Mount: {\n    _instancesByReactRootID: Host.rootComponents,\n\n    // Stub - React DevTools expects to find this method and replace it\n    // with a wrapper in order to observe new root components being added\n    _renderNewRootComponent() {}\n  },\n  Reconciler: {\n    // Stubs - React DevTools expects to find these methods and replace them\n    // with wrappers in order to observe components being mounted, updated and\n    // unmounted\n    mountComponent() {},\n    receiveComponent() {},\n    unmountComponent() {},\n  },\n  // monitor the info of all components\n  monitor: null\n};\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/debug/hook.js","import Host from './vdom/host';\nimport flattenChildren from './flattenChildren';\nimport {isWeex} from 'universal-env';\n\nconst RESERVED_PROPS = {\n  key: true,\n  ref: true,\n};\n\nfunction getRenderErrorInfo() {\n  if (Host.component) {\n    var name = Host.component.getName();\n    if (name) {\n      return ' Check the render method of `' + name + '`.';\n    }\n  }\n  return '';\n}\n\nconst Element = (type, key, ref, props, owner) => {\n  props = filterProps(type, props);\n\n  return {\n    // Built-in properties that belong on the element\n    type,\n    key,\n    ref,\n    props,\n    // Record the component responsible for creating this element.\n    _owner: owner,\n  };\n};\n\nexport default Element;\n\nfunction flattenStyle(style) {\n  if (!style) {\n    return undefined;\n  }\n\n  if (!Array.isArray(style)) {\n    return style;\n  } else {\n    let result = {};\n    for (let i = 0; i < style.length; ++i) {\n      let computedStyle = flattenStyle(style[i]);\n      if (computedStyle) {\n        for (let key in computedStyle) {\n          result[key] = computedStyle[key];\n        }\n      }\n    }\n    return result;\n  }\n}\n\n// TODO: move to weex-drvier\nfunction filterProps(type, props) {\n  // Only for weex text\n  if (isWeex && type === 'text') {\n    let children = props.children;\n    let value = props.value;\n\n    // Value is first\n    if (value == null && children != null) {\n      if (Array.isArray(children)) {\n        children = children.map(function(val) {\n          if (typeof val === 'number' || typeof val === 'string') {\n            return val;\n          } else {\n            return '';\n          }\n        }).join('');\n      } else if (typeof children !== 'number' && typeof children !== 'string') {\n        children = '';\n      }\n\n      props.value = String(children);\n    }\n\n    props.children = null;\n  }\n\n  return props;\n}\n\nexport function createElement(type, config, ...children) {\n  if (type == null) {\n    throw Error('createElement: type should not be null or undefined.' + getRenderErrorInfo());\n  }\n  // Reserved names are extracted\n  let props = {};\n  let propName;\n  let key = null;\n  let ref = null;\n\n  if (config != null) {\n    ref = config.ref === undefined ? null : config.ref;\n    key = config.key === undefined ? null : String(config.key);\n    // Remaining properties are added to a new props object\n    for (propName in config) {\n      if (config.hasOwnProperty(propName) &&\n          !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    }\n  }\n\n  if (children.length) {\n    props.children = flattenChildren(children);\n  }\n\n  // Resolve default props\n  if (type && type.defaultProps) {\n    let defaultProps = type.defaultProps;\n    for (propName in defaultProps) {\n      if (props[propName] === undefined) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n  }\n\n  if (props.style && (Array.isArray(props.style) || typeof props.style === 'object')) {\n    props.style = flattenStyle(props.style);\n  }\n\n  return new Element(\n    type,\n    key,\n    ref,\n    props,\n    Host.component\n  );\n}\n\nexport function createFactory(type) {\n  const factory = createElement.bind(null, type);\n  // Expose the type on the factory and the prototype so that it can be\n  // easily accessed on elements. E.g. `<Foo />.type === Foo`.\n  // This should not be named `constructor` since this may not be the function\n  // that created the element, and it may not even be a constructor.\n  factory.type = type;\n  return factory;\n}\n\nexport function cloneElement(element, config, ...children) {\n  if (!isValidElement(element)) {\n    throw Error('cloneElement: not a valid element.' + getRenderErrorInfo());\n  }\n\n  // Original props are copied\n  const props = Object.assign({}, element.props);\n\n  // Reserved names are extracted\n  let key = element.key;\n  let ref = element.ref;\n\n  // Owner will be preserved, unless ref is overridden\n  let owner = element._owner;\n\n  if (config) {\n    // Should reset ref and owner if has a new ref\n    if (config.ref !== undefined) {\n      ref = config.ref;\n      owner = Host.component;\n    }\n\n    if (config.key !== undefined) {\n      key = String(config.key);\n    }\n\n    // Resolve default props\n    let defaultProps;\n    if (element.type && element.type.defaultProps) {\n      defaultProps = element.type.defaultProps;\n    }\n    // Remaining properties override existing props\n    let propName;\n    for (propName in config) {\n      if (config.hasOwnProperty(propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        if (config[propName] === undefined && defaultProps !== undefined) {\n          // Resolve default props\n          props[propName] = defaultProps[propName];\n        } else {\n          props[propName] = config[propName];\n        }\n      }\n    }\n  }\n\n  if (children.length) {\n    props.children = flattenChildren(children);\n  }\n\n  return new Element(\n    element.type,\n    key,\n    ref,\n    props,\n    owner\n  );\n};\n\nexport function isValidElement(object) {\n  return typeof object === 'object' && object !== null && object.type && object.props;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/element.js","import instance from './vdom/instance';\n\nexport default function unmountComponentAtNode(node) {\n  let component = instance.get(node);\n\n  if (!component) {\n    return false;\n  }\n\n  instance.remove(node);\n  component._internal.unmountComponent();\n\n  return true;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/unmountComponentAtNode.js","import Host from './host';\nimport Ref from './ref';\nimport instantiateComponent from './instantiateComponent';\nimport shouldUpdateComponent from './shouldUpdateComponent';\nimport getElementKeyName from './getElementKeyName';\nimport instance from './instance';\n\nconst STYLE = 'style';\nconst CHILDREN = 'children';\nconst TREE = 'tree';\nconst EVENT_PREFIX_REGEXP = /on[A-Z]/;\n\n/**\n * Native Component\n */\nclass NativeComponent {\n  constructor(element) {\n    this._currentElement = element;\n  }\n\n  mountComponent(parent, parentInstance, context, childMounter) {\n    // Parent native element\n    this._parent = parent;\n    this._parentInstance = parentInstance;\n    this._context = context;\n    this._mountID = Host.mountID++;\n\n    let props = this._currentElement.props;\n    let type = this._currentElement.type;\n    let instance = {\n      _internal: this,\n      type,\n      props,\n    };\n    let appendType = props.append; // Default is node\n\n    this._instance = instance;\n\n    // Clone a copy for style diff\n    this._prevStyleCopy = Object.assign({}, props.style);\n\n    let nativeNode = this.getNativeNode();\n\n    if (appendType !== TREE) {\n      if (childMounter) {\n        childMounter(nativeNode, parent);\n      } else {\n        Host.driver.appendChild(nativeNode, parent);\n      }\n    }\n\n    if (this._currentElement && this._currentElement.ref) {\n      Ref.attach(this._currentElement._owner, this._currentElement.ref, this);\n    }\n\n    // Process children\n    let children = props.children;\n    if (children != null) {\n      this.mountChildren(children, context);\n    }\n\n    if (appendType === TREE) {\n      if (childMounter) {\n        childMounter(nativeNode, parent);\n      } else {\n        Host.driver.appendChild(nativeNode, parent);\n      }\n    }\n\n    Host.hook.Reconciler.mountComponent(this);\n\n    return instance;\n  }\n\n  mountChildren(children, context) {\n    if (!Array.isArray(children)) {\n      children = [children];\n    }\n\n    let renderedChildren = this._renderedChildren = {};\n\n    let renderedChildrenImage = children.map((element, index) => {\n      let renderedChild = instantiateComponent(element);\n      let name = getElementKeyName(renderedChildren, element, index);\n      renderedChildren[name] = renderedChild;\n      renderedChild._mountIndex = index;\n      // Mount\n      let mountImage = renderedChild.mountComponent(this.getNativeNode(),\n        this._instance, context, null);\n      return mountImage;\n    });\n\n    return renderedChildrenImage;\n  }\n\n  unmountChildren(notRemoveChild) {\n    let renderedChildren = this._renderedChildren;\n\n    if (renderedChildren) {\n      for (let name in renderedChildren) {\n        let renderedChild = renderedChildren[name];\n        renderedChild.unmountComponent(notRemoveChild);\n      }\n      this._renderedChildren = null;\n    }\n  }\n\n  unmountComponent(notRemoveChild) {\n    if (this._nativeNode) {\n      let ref = this._currentElement.ref;\n      if (ref) {\n        Ref.detach(this._currentElement._owner, ref, this);\n      }\n\n      instance.remove(this._nativeNode);\n      if (!notRemoveChild) {\n        Host.driver.removeChild(this._nativeNode, this._parent);\n      }\n      Host.driver.removeAllEventListeners(this._nativeNode);\n    }\n\n    this.unmountChildren(notRemoveChild);\n\n    Host.hook.Reconciler.unmountComponent(this);\n\n    this._currentElement = null;\n    this._nativeNode = null;\n    this._parent = null;\n    this._parentInstance = null;\n    this._context = null;\n    this._instance = null;\n    this._prevStyleCopy = null;\n  }\n\n  updateComponent(prevElement, nextElement, prevContext, nextContext) {\n    // Replace current element\n    this._currentElement = nextElement;\n\n    Ref.update(prevElement, nextElement, this);\n\n    let prevProps = prevElement.props;\n    let nextProps = nextElement.props;\n\n    this.updateProperties(prevProps, nextProps);\n    this.updateChildren(nextProps.children, nextContext);\n\n    Host.hook.Reconciler.receiveComponent(this);\n  }\n\n  updateProperties(prevProps, nextProps) {\n    let propKey;\n    let styleName;\n    let styleUpdates;\n    for (propKey in prevProps) {\n      if (propKey === CHILDREN ||\n        nextProps.hasOwnProperty(propKey) ||\n        !prevProps.hasOwnProperty(propKey) ||\n        prevProps[propKey] == null) {\n        continue;\n      }\n      if (propKey === STYLE) {\n        let lastStyle = this._prevStyleCopy;\n        for (styleName in lastStyle) {\n          if (lastStyle.hasOwnProperty(styleName)) {\n            styleUpdates = styleUpdates || {};\n            styleUpdates[styleName] = '';\n          }\n        }\n        this._prevStyleCopy = null;\n      } else if (EVENT_PREFIX_REGEXP.test(propKey)) {\n        if (typeof prevProps[propKey] === 'function') {\n          Host.driver.removeEventListener(this.getNativeNode(), propKey.slice(\n            2).toLowerCase(), prevProps[propKey]);\n        }\n      } else {\n        Host.driver.removeAttribute(this.getNativeNode(), propKey, prevProps[\n          propKey]);\n      }\n    }\n\n    for (propKey in nextProps) {\n      let nextProp = nextProps[propKey];\n      let prevProp =\n        propKey === STYLE ? this._prevStyleCopy :\n        prevProps != null ? prevProps[propKey] : undefined;\n      if (propKey === CHILDREN ||\n        !nextProps.hasOwnProperty(propKey) ||\n        nextProp === prevProp ||\n        nextProp == null && prevProp == null) {\n        continue;\n      }\n      // Update style\n      if (propKey === STYLE) {\n        if (nextProp) {\n          // Clone property\n          nextProp = this._prevStyleCopy = Object.assign({}, nextProp);\n        } else {\n          this._prevStyleCopy = null;\n        }\n\n        if (prevProp != null) {\n          // Unset styles on `prevProp` but not on `nextProp`.\n          for (styleName in prevProp) {\n            if (prevProp.hasOwnProperty(styleName) &&\n              (!nextProp || !nextProp.hasOwnProperty(styleName))) {\n              styleUpdates = styleUpdates || {};\n              styleUpdates[styleName] = '';\n            }\n          }\n          // Update styles that changed since `prevProp`.\n          for (styleName in nextProp) {\n            if (nextProp.hasOwnProperty(styleName) &&\n              prevProp[styleName] !== nextProp[styleName]) {\n              styleUpdates = styleUpdates || {};\n              styleUpdates[styleName] = nextProp[styleName];\n            }\n          }\n        } else {\n          // Assign next prop when prev style is null\n          styleUpdates = nextProp;\n        }\n\n        // Update event binding\n      } else if (EVENT_PREFIX_REGEXP.test(propKey)) {\n        if (typeof prevProp === 'function') {\n          Host.driver.removeEventListener(this.getNativeNode(), propKey.slice(\n            2).toLowerCase(), prevProp);\n        }\n\n        if (typeof nextProp === 'function') {\n          Host.driver.addEventListener(this.getNativeNode(), propKey.slice(2)\n            .toLowerCase(), nextProp);\n        }\n        // Update other property\n      } else {\n        let payload = {};\n        payload[propKey] = nextProp;\n        if (nextProp != null) {\n          Host.driver.setAttribute(this.getNativeNode(), propKey, nextProp);\n        } else {\n          Host.driver.removeAttribute(this.getNativeNode(), propKey,\n            prevProps[propKey]);\n        }\n        if (process.env.NODE_ENV !== 'production') {\n          Host.measurer && Host.measurer.recordOperation({\n            instanceID: this._mountID,\n            type: 'update attribute',\n            payload: payload\n          });\n        }\n      }\n    }\n\n    if (styleUpdates) {\n      if (process.env.NODE_ENV !== 'production') {\n        Host.measurer && Host.measurer.recordOperation({\n          instanceID: this._mountID,\n          type: 'update style',\n          payload: styleUpdates\n        });\n      }\n      Host.driver.setStyles(this.getNativeNode(), styleUpdates);\n    }\n  }\n\n  updateChildren(nextChildrenElements, context) {\n    // prev rendered children\n    let prevChildren = this._renderedChildren;\n\n    if (nextChildrenElements == null && prevChildren == null) {\n      return;\n    }\n\n    let nextChildren = {};\n    let oldNodes = {};\n\n    if (nextChildrenElements != null) {\n      if (!Array.isArray(nextChildrenElements)) {\n        nextChildrenElements = [nextChildrenElements];\n      }\n\n      // Update next children elements\n      for (let index = 0, length = nextChildrenElements.length; index <\n        length; index++) {\n        let nextElement = nextChildrenElements[index];\n        let name = getElementKeyName(nextChildren, nextElement, index);\n        let prevChild = prevChildren && prevChildren[name];\n        let prevElement = prevChild && prevChild._currentElement;\n\n        if (prevChild != null && shouldUpdateComponent(prevElement,\n            nextElement)) {\n          // Pass the same context when updating chidren\n          prevChild.updateComponent(prevElement, nextElement, context,\n            context);\n          nextChildren[name] = prevChild;\n        } else {\n          // Unmount the prevChild when nextChild is different element type.\n          if (prevChild) {\n            let oldNativeNode = prevChild.getNativeNode();\n            // Delay remove child\n            prevChild.unmountComponent(true);\n            oldNodes[name] = oldNativeNode;\n          }\n          // The child must be instantiated before it's mounted.\n          nextChildren[name] = instantiateComponent(nextElement);\n        }\n      }\n    }\n\n    let firstPrevChild;\n    let delayRemoveFirstPrevChild;\n    // Unmount children that are no longer present.\n    if (prevChildren != null) {\n      for (let name in prevChildren) {\n        if (!prevChildren.hasOwnProperty(name)) {\n          continue;\n        }\n\n        let prevChild = prevChildren[name];\n        let shouldRemove = !nextChildren[name];\n\n        // Store old first child ref for append node ahead and maybe delay remove it\n        if (!firstPrevChild) {\n          firstPrevChild = prevChild;\n          delayRemoveFirstPrevChild = shouldRemove;\n        } else if (shouldRemove) {\n          prevChild.unmountComponent();\n        }\n      }\n    }\n\n    if (nextChildren != null) {\n      // `nextIndex` will increment for each child in `nextChildren`, but\n      // `lastIndex` will be the last index visited in `prevChildren`.\n      let lastIndex = 0;\n      let nextIndex = 0;\n      let lastPlacedNode = null;\n      let nextNativeNode = [];\n\n      for (let name in nextChildren) {\n        if (!nextChildren.hasOwnProperty(name)) {\n          continue;\n        }\n\n        let nextChild = nextChildren[name];\n        let prevChild = prevChildren && prevChildren[name];\n\n        if (prevChild === nextChild) {\n          let prevChildNativeNode = prevChild.getNativeNode();\n          // Convert to array type\n          if (!Array.isArray(prevChildNativeNode)) {\n            prevChildNativeNode = [prevChildNativeNode];\n          }\n\n          // If the index of `child` is less than `lastIndex`, then it needs to\n          // be moved. Otherwise, we do not need to move it because a child will be\n          // inserted or moved before `child`.\n          if (prevChild._mountIndex < lastIndex) {\n            // Get the last child\n            if (Array.isArray(lastPlacedNode)) {\n              lastPlacedNode = lastPlacedNode[lastPlacedNode.length - 1];\n            }\n\n            for (let i = prevChildNativeNode.length - 1; i >= 0; i--) {\n              Host.driver.insertAfter(prevChildNativeNode[i], lastPlacedNode);\n            }\n          }\n\n          nextNativeNode = nextNativeNode.concat(prevChildNativeNode);\n\n          lastIndex = Math.max(prevChild._mountIndex, lastIndex);\n          prevChild._mountIndex = nextIndex;\n        } else {\n          if (prevChild != null) {\n            // Update `lastIndex` before `_mountIndex` gets unset by unmounting.\n            lastIndex = Math.max(prevChild._mountIndex, lastIndex);\n          }\n\n          let parent = this.getNativeNode();\n          // Fragment extended native component, so if parent is fragment should get this._parent\n          if (Array.isArray(parent)) {\n            parent = this._parent;\n          }\n\n          nextChild.mountComponent(\n            parent,\n            this._instance,\n            context, (newChild, parent) => {\n              // TODO: Rework the duplicate code\n              let oldChild = oldNodes[name];\n              if (!Array.isArray(newChild)) {\n                newChild = [newChild];\n              }\n\n              if (oldChild) {\n                // The oldChild or newChild all maybe fragment\n                if (!Array.isArray(oldChild)) {\n                  oldChild = [oldChild];\n                }\n\n                // If newChild count large then oldChild\n                let lastNewChild;\n                for (let i = 0; i < newChild.length; i++) {\n                  let child = newChild[i];\n                  if (oldChild[i]) {\n                    Host.driver.replaceChild(child, oldChild[i]);\n                  } else {\n                    Host.driver.insertAfter(child, lastNewChild);\n                  }\n                  lastNewChild = child;\n                }\n\n                // If newChild count less then oldChild\n                if (newChild.length < oldChild.length) {\n                  for (let i = newChild.length; i < oldChild.length; i++) {\n                    Host.driver.removeChild(oldChild[i]);\n                  }\n                }\n              } else {\n                // Insert child at a specific index\n\n                // Get the last child\n                if (Array.isArray(lastPlacedNode)) {\n                  lastPlacedNode = lastPlacedNode[lastPlacedNode.length - 1];\n                }\n\n                let prevFirstNativeNode;\n\n                if (firstPrevChild && !lastPlacedNode) {\n                  prevFirstNativeNode = firstPrevChild.getNativeNode();\n                  if (Array.isArray(prevFirstNativeNode)) {\n                    prevFirstNativeNode = prevFirstNativeNode[0];\n                  }\n                }\n\n                for (let i = newChild.length - 1; i >= 0; i--) {\n                  let child = newChild[i];\n                  if (lastPlacedNode) {\n                    Host.driver.insertAfter(child, lastPlacedNode);\n                  } else if (prevFirstNativeNode) {\n                    Host.driver.insertBefore(child, prevFirstNativeNode);\n                  } else {\n                    Host.driver.appendChild(child, parent);\n                  }\n                }\n              }\n\n              nextNativeNode = nextNativeNode.concat(newChild);\n            }\n          );\n          nextChild._mountIndex = nextIndex;\n        }\n\n        nextIndex++;\n        lastPlacedNode = nextChild.getNativeNode();\n      }\n\n      // Sync update native refs\n      if (Array.isArray(this._nativeNode)) {\n        // Clear all and push the new array\n        this._nativeNode.splice(0, this._nativeNode.length);\n        for (let i = 0; i < nextNativeNode.length; i++) {\n          this._nativeNode.push(nextNativeNode[i]);\n        }\n      }\n    }\n\n    if (delayRemoveFirstPrevChild) {\n      firstPrevChild.unmountComponent();\n    }\n\n    this._renderedChildren = nextChildren;\n  }\n\n  getNativeNode() {\n    if (this._nativeNode == null) {\n      this._nativeNode = Host.driver.createElement(this._instance);\n      instance.set(this._nativeNode, this._instance);\n    }\n\n    return this._nativeNode;\n  }\n\n  getPublicInstance() {\n    return this.getNativeNode();\n  }\n\n  getName() {\n    return this._currentElement.type;\n  }\n}\n\nexport default NativeComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/native.js","/*\n * Ref manager\n */\n\nexport default {\n  update(prevElement, nextElement, component) {\n    let prevRef = prevElement != null && prevElement.ref;\n    let nextRef = nextElement != null && nextElement.ref;\n\n    // Update refs in owner component\n    if (prevRef !== nextRef) {\n      // Detach prev RenderedElement's ref\n      prevRef != null && this.detach(prevElement._owner, prevRef, component);\n      // Attach next RenderedElement's ref\n      nextRef != null && this.attach(nextElement._owner, nextRef, component);\n    }\n  },\n  attach(ownerComponent, ref, component) {\n    if (!ownerComponent) {\n      throw new Error(\n        'You might be adding a ref to a component that was not created inside a component\\'s ' +\n        '`render` method, or you have multiple copies of Rax loaded.'\n      );\n    }\n\n    let instance = component.getPublicInstance();\n    if (typeof ref === 'function') {\n      ref(instance);\n    } else {\n      ownerComponent._instance.refs[ref] = instance;\n    }\n  },\n  detach(ownerComponent, ref, component) {\n    if (typeof ref === 'function') {\n      // When the referenced component is unmounted and whenever the ref changes, the old ref will be called with null as an argument.\n      ref(null);\n    } else {\n      // Must match component and ref could detach the ref on owner when A's before ref is B's current ref\n      let instance = component.getPublicInstance();\n      if (ownerComponent._instance.refs[ref] === instance) {\n        delete ownerComponent._instance.refs[ref];\n      }\n    }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/ref.js","export default (children, element, index) => {\n  const elementKey = element && element.key;\n  const hasKey = typeof elementKey === 'string';\n  const defaultName = '.' + index.toString(36);\n\n  if (hasKey) {\n    let keyName = '$' + elementKey;\n    // Child keys must be unique.\n    let keyUnique = children[keyName] === undefined;\n    // Only the first child will be used when encountered two children with the same key\n    if (!keyUnique) console.warn(`Encountered two children with the same key \"${elementKey}\".`);\n\n    return keyUnique ? keyName : defaultName;\n  } else {\n    return defaultName;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/getElementKeyName.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isRem = isRem;\nexports.calcRem = calcRem;\nexports.getRem = getRem;\nexports.setRem = setRem;\nexports.isUnitNumber = isUnitNumber;\nexports.convertUnit = convertUnit;\n/**\n * CSS properties which accept numbers but are not in units of \"px\".\n */\nvar UNITLESS_NUMBER_PROPS = {\n  animationIterationCount: true,\n  borderImageOutset: true,\n  borderImageSlice: true,\n  borderImageWidth: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridColumn: true,\n  fontWeight: true,\n  lineClamp: true,\n  // We make lineHeight default is px that is diff with w3c spec\n  // lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n  // Weex only\n  lines: true\n};\nvar SUFFIX = 'rem';\nvar REM_REG = /[-+]?\\d*\\.?\\d+rem/g;\n\n// Default 1 rem to 1 px\nvar defaultRemUnit = 1;\n\n/**\n * Is string contains rem\n * @param {String} str\n * @returns {Boolean}\n */\nfunction isRem(str) {\n  return typeof str === 'string' && str.indexOf(SUFFIX) !== -1;\n}\n\n/**\n * Calculate rem to pixels: '1.2rem' => 1.2 * rem\n * @param {String} str\n * @param {Number} rem\n * @returns {number}\n */\nfunction calcRem(str) {\n  var remUnit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultRemUnit;\n\n  return str.replace(REM_REG, function (rem) {\n    return parseFloat(rem) * remUnit + 'px';\n  });\n}\n\nfunction getRem() {\n  return defaultRemUnit;\n}\n\nfunction setRem(rem) {\n  defaultRemUnit = rem;\n}\n\nfunction isUnitNumber(val, prop) {\n  return typeof val === 'number' && !UNITLESS_NUMBER_PROPS[prop];\n}\n\nfunction convertUnit(val, prop) {\n  var remUnit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultRemUnit;\n\n  if (prop && isUnitNumber(val, prop)) {\n    return val * remUnit + 'px';\n  } else if (isRem(val)) {\n    return calcRem(val, remUnit);\n  }\n\n  return val;\n}\n\n\n// WEBPACK FOOTER //\n// ./packages/style-unit/lib/index.js","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.transformPropsAttrsToStyle = transformPropsAttrsToStyle;\nexports.renamePropsAttr = renamePropsAttr;\n/**\n * transformPropAttrsToStyle\n *\n * @param {Object} props\n * @param {Array} attrs\n */\nfunction transformPropsAttrsToStyle(props, attrs) {\n  props.style = props.style || {};\n\n  attrs.forEach(function (attr) {\n    if (props[attr] && !props.style[attr]) {\n      props.style[attr] = props[attr];\n      delete props[attr];\n    }\n  });\n\n  return props;\n};\n\n/**\n * renamePropsAttr\n *\n * @param {Object} props\n * @param {String} originalAttrName\n * @param {String} newAttrName\n */\nfunction renamePropsAttr(props, originalAttrName, newAttrName) {\n  if (props[originalAttrName] && !props[newAttrName]) {\n    props[newAttrName] = props[originalAttrName];\n    delete props[originalAttrName];\n  }\n\n  return props;\n}\n\n\n// WEBPACK FOOTER //\n// ./packages/driver-weex/lib/parseProps.js","import Host from './vdom/host';\n\nfunction findDOMNode(instance) {\n  if (instance == null) {\n    return null;\n  }\n\n  // If a native node, weex may not export ownerDocument property\n  if (instance.ownerDocument || instance.nodeType) {\n    return instance;\n  }\n\n  // Native component\n  if (instance._nativeNode) {\n    return instance._nativeNode;\n  }\n\n  if (typeof instance == 'string') {\n    return Host.driver.getElementById(instance);\n  }\n\n  if (typeof instance.render !== 'function') {\n    throw new Error('Appears to be neither Component nor DOMNode.');\n  }\n\n  // Composite component\n  let internal = instance._internal;\n\n  if (internal) {\n    while (!internal._nativeNode) {\n      internal = internal._renderedComponent;\n      // If not mounted\n      if (internal == null) {\n        return null;\n      }\n    }\n    return internal._nativeNode;\n  } else {\n    throw new Error('findDOMNode was called on an unmounted component.');\n  }\n}\n\nexport default findDOMNode;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/findDOMNode.js","import './debug/devtools';\nimport {createElement, cloneElement, isValidElement, createFactory} from './element';\n\nexport {createElement, cloneElement, isValidElement, createFactory};\nexport Component from './component';\nexport PureComponent from './purecomponent';\nexport PropTypes from './proptypes';\nexport render from './render';\nexport findDOMNode from './findDOMNode';\nexport unmountComponentAtNode from './unmountComponentAtNode';\nexport findComponentInstance from './findComponentInstance';\nexport setNativeProps from './setNativeProps';\nexport version from './version';\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/index.js","import Hook from './hook';\n\n/* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject === 'function') {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.inject(Hook);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/debug/devtools.js","function traverseChildren(children, result) {\n  if (Array.isArray(children)) {\n    for (let i = 0, l = children.length; i < l; i++) {\n      traverseChildren(children[i], result);\n    }\n  } else {\n    result.push(children);\n  }\n}\n\nexport default function flattenChildren(children) {\n  if (children == null) {\n    return children;\n  }\n  let result = [];\n  traverseChildren(children, result);\n\n  if (result.length === 1) {\n    result = result[0];\n  }\n\n  return result;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/flattenChildren.js","import Component from '../component';\n\nlet rootCounter = 1;\n\nclass Root extends Component {\n  rootID = rootCounter++;\n  isRootComponent() {}\n  render() {\n    return this.props.children;\n  }\n  getPublicInstance() {\n    return this.getRenderedComponent().getPublicInstance();\n  }\n  getRenderedComponent() {\n    return this._internal._renderedComponent;\n  }\n}\n\nexport default Root;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/root.js","import Component from './component';\n\n/**\n * Pure component class.\n */\nclass PureComponent extends Component {\n  constructor(props, context) {\n    super(props, context);\n  }\n\n  isPureComponentClass() {}\n}\n\nexport default PureComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/purecomponent.js","/*\n * Current PropTypes only export some api with react, not validate in runtime.\n */\n\nfunction createChainableTypeChecker(validate) {\n  function checkType(isRequired, props, propName, componentName, location, propFullName) {\n    return typeChecker;\n  }\n\n  let chainedCheckType = checkType.bind(null, false);\n  chainedCheckType.isRequired = checkType.bind(null, true);\n\n  return chainedCheckType;\n}\n\nfunction createTypeChecker(expectedType) {\n  function validate(props, propName, componentName, location, propFullName) {\n    // Noop\n  }\n  return createChainableTypeChecker(validate);\n}\n\nlet typeChecker = createTypeChecker();\n\nexport default {\n  array: typeChecker,\n  bool: typeChecker,\n  func: typeChecker,\n  number: typeChecker,\n  object: typeChecker,\n  string: typeChecker,\n  symbol: typeChecker,\n  element: typeChecker,\n  node: typeChecker,\n  any: typeChecker,\n  arrayOf: typeChecker,\n  instanceOf: typeChecker,\n  objectOf: typeChecker,\n  oneOf: typeChecker,\n  oneOfType: typeChecker,\n  shape: typeChecker,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/proptypes.js","import inject from './inject';\nimport instance from './vdom/instance';\nimport Host from './vdom/host';\n\nfunction render(element, container, options, callback) {\n  // Compatible with `render(element, container, callback)`\n  if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n\n  // Init inject\n  inject(options || {});\n\n  let rootComponent = instance.render(element, container);\n  let component = rootComponent.getPublicInstance();\n\n  if (callback) {\n    callback.call(component);\n  }\n\n  return component;\n}\n\nexport default render;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/render.js","import {isWeb, isWeex} from 'universal-env';\nimport Host from './vdom/host';\nimport EmptyComponent from './vdom/empty';\nimport NativeComponent from './vdom/native';\nimport TextComponent from './vdom/text';\nimport CompositeComponent from './vdom/composite';\nimport FragmentComponent from './vdom/fragment';\nimport WeexDriver from 'driver-weex';\nimport BrowserDriver from 'driver-browser';\nimport Hook from './debug/hook';\n\nexport default function inject({driver, hook, measurer, deviceWidth, viewportWidth}) {\n  // Inject component class\n  Host.EmptyComponent = EmptyComponent;\n  Host.NativeComponent = NativeComponent;\n  Host.TextComponent = TextComponent;\n  Host.FragmentComponent = FragmentComponent;\n  Host.CompositeComponent = CompositeComponent;\n  // Inject devtool hook\n  Host.hook = hook || Hook;\n\n  // Inject performance measurer\n  Host.measurer = measurer;\n\n  // Inject render driver\n  if (!Host.driver) {\n    if (!driver) {\n      if (isWeex) {\n        driver = WeexDriver;\n      } else if (isWeb) {\n        driver = BrowserDriver;\n      } else {\n        throw Error('No builtin driver matched');\n      }\n    }\n    Host.driver = driver;\n  }\n\n  if (deviceWidth && driver.setDeviceWidth) {\n    driver.setDeviceWidth(deviceWidth);\n  }\n\n  if (viewportWidth && driver.setViewportWidth) {\n    driver.setViewportWidth(viewportWidth);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/inject.js","import Host from './host';\n\n/**\n * Empty Component\n */\nclass EmptyComponent {\n  constructor() {\n    this._currentElement = null;\n  }\n\n  mountComponent(parent, parentInstance, context, childMounter) {\n    this._parent = parent;\n    this._parentInstance = parentInstance;\n    this._context = context;\n\n    let instance = {\n      _internal: this\n    };\n\n    let nativeNode = this.getNativeNode();\n    if (childMounter) {\n      childMounter(nativeNode, parent);\n    } else {\n      Host.driver.appendChild(nativeNode, parent);\n    }\n\n    return instance;\n  }\n\n  unmountComponent(notRemoveChild) {\n    if (this._nativeNode && !notRemoveChild) {\n      Host.driver.removeChild(this._nativeNode, this._parent);\n    }\n\n    this._nativeNode = null;\n    this._parent = null;\n    this._parentInstance = null;\n    this._context = null;\n  }\n\n  updateComponent() {\n    // Noop\n  }\n\n  getNativeNode() {\n    // Weex native node\n    if (this._nativeNode == null) {\n      this._nativeNode = Host.driver.createEmpty();\n    }\n\n    return this._nativeNode;\n  }\n}\n\nexport default EmptyComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/empty.js","import Host from './host';\n\n/**\n * Text Component\n */\nclass TextComponent {\n  constructor(element) {\n    this._currentElement = element;\n    this._stringText = String(element);\n  }\n\n  mountComponent(parent, parentInstance, context, childMounter) {\n    this._parent = parent;\n    this._parentInstance = parentInstance;\n    this._context = context;\n    this._mountID = Host.mountID++;\n\n    // Weex dom operation\n    let nativeNode = this.getNativeNode();\n\n    if (childMounter) {\n      childMounter(nativeNode, parent);\n    } else {\n      Host.driver.appendChild(nativeNode, parent);\n    }\n\n    let instance = {\n      _internal: this\n    };\n\n    Host.hook.Reconciler.mountComponent(this);\n\n    return instance;\n  }\n\n  unmountComponent(notRemoveChild) {\n    if (this._nativeNode && !notRemoveChild) {\n      Host.driver.removeChild(this._nativeNode, this._parent);\n    }\n\n    Host.hook.Reconciler.unmountComponent(this);\n\n    this._currentElement = null;\n    this._nativeNode = null;\n    this._parent = null;\n    this._parentInstance = null;\n    this._context = null;\n    this._stringText = null;\n  }\n\n  updateComponent(prevElement, nextElement, context) {\n    // If some text do noting\n    if (prevElement !== nextElement) {\n      // Replace current element\n      this._currentElement = nextElement;\n      // Devtool read the latest stringText value\n      this._stringText = String(nextElement);\n      Host.driver.updateText(this.getNativeNode(), this._stringText);\n      Host.hook.Reconciler.receiveComponent(this);\n    }\n  }\n\n  getNativeNode() {\n    if (this._nativeNode == null) {\n      this._nativeNode = Host.driver.createText(this._stringText);\n    }\n    return this._nativeNode;\n  }\n}\n\nexport default TextComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/text.js","import StatelessComponent from './stateless';\nimport updater from './updater';\nimport Host from './host';\nimport Ref from './ref';\nimport instantiateComponent from './instantiateComponent';\nimport shouldUpdateComponent from './shouldUpdateComponent';\nimport shallowEqual from './shallowEqual';\n\nfunction performInSandbox(fn, instance, callback) {\n  try {\n    return fn();\n  } catch (e) {\n    if (callback) {\n      callback(e);\n    } else {\n      handleError(instance, e);\n    }\n  }\n}\n\nfunction handleError(instance, error) {\n  let boundary;\n  let _instance = instance;\n\n  while (_instance) {\n    if (typeof _instance.componentDidCatch === 'function') {\n      boundary = _instance;\n      break;\n    } else if (_instance._internal && _instance._internal._parentInstance) {\n      _instance = _instance._internal._parentInstance;\n    } else {\n      break;\n    }\n  }\n\n  if (boundary) {\n    boundary.componentDidCatch(error);\n  } else {\n    if (Host.sandbox) {\n      setTimeout(() => {\n        throw error;\n      }, 0);\n    } else {\n      throw error;\n    }\n  }\n}\n\nlet measureLifeCycle;\nif (process.env.NODE_ENV !== 'production') {\n  measureLifeCycle = function(callback, instanceID, type) {\n    Host.measurer && Host.measurer.beforeLifeCycle(instanceID, type);\n    callback();\n    Host.measurer && Host.measurer.afterLifeCycle(instanceID, type);\n  };\n}\n\n/**\n * Composite Component\n */\nclass CompositeComponent {\n  constructor(element) {\n    this._currentElement = element;\n  }\n\n  getName() {\n    let type = this._currentElement.type;\n    let constructor = this._instance && this._instance.constructor;\n    return (\n      type.displayName || constructor && constructor.displayName ||\n      type.name || constructor && constructor.name ||\n      null\n    );\n  }\n\n  mountComponent(parent, parentInstance, context, childMounter) {\n    this._parent = parent;\n    this._parentInstance = parentInstance;\n    this._context = context;\n    this._mountID = Host.mountID++;\n    this._updateCount = 0;\n\n    if (process.env.NODE_ENV !== 'production') {\n      Host.measurer && Host.measurer.beforeMountComponent(this._mountID, this);\n    }\n\n    let Component = this._currentElement.type;\n    let publicProps = this._currentElement.props;\n    let isClass = Component.prototype;\n    let isComponentClass = isClass && Component.prototype.isComponentClass;\n    // Class stateless component without state but have lifecycles\n    let isStatelessClass = isClass && Component.prototype.render;\n\n    // Context process\n    let publicContext = this._processContext(context);\n\n    // Initialize the public class\n    let instance;\n    let renderedElement;\n\n    if (isComponentClass || isStatelessClass) {\n      // Component instance\n      instance = new Component(publicProps, publicContext, updater);\n    } else if (typeof Component === 'function') {\n      // Functional stateless component without state and lifecycles\n      instance = new StatelessComponent(Component);\n    } else {\n      throw Error(`Invalid component type ${JSON.stringify(Component)}`);\n    }\n\n    // These should be set up in the constructor, but as a convenience for\n    // simpler class abstractions, we set them up after the fact.\n    instance.props = publicProps;\n    instance.context = publicContext;\n    instance.refs = {};\n\n    // Inject the updater into instance\n    instance.updater = updater;\n    instance._internal = this;\n    this._instance = instance;\n\n    // Init state, must be set to an object or null\n    let initialState = instance.state;\n    if (initialState === undefined) {\n      // TODO clone the state?\n      instance.state = initialState = null;\n    }\n\n    let error = null;\n    let errorCallback = (e) => {\n      error = e;\n    };\n\n    performInSandbox(() => {\n      if (instance.componentWillMount) {\n        if (process.env.NODE_ENV !== 'production') {\n          measureLifeCycle(() => {\n            instance.componentWillMount();\n          }, this._mountID, 'componentDidMount');\n        } else {\n          instance.componentWillMount();\n        }\n      }\n    }, instance, errorCallback);\n\n    if (renderedElement == null) {\n      Host.component = this;\n      // Process pending state when call setState in componentWillMount\n      instance.state = this._processPendingState(publicProps, publicContext);\n\n      performInSandbox(() => {\n        if (process.env.NODE_ENV !== 'production') {\n          measureLifeCycle(() => {\n            renderedElement = instance.render();\n          }, this._mountID, 'render');\n        } else {\n          renderedElement = instance.render();\n        }\n      }, instance, errorCallback);\n\n      Host.component = null;\n    }\n\n    this._renderedComponent = instantiateComponent(renderedElement);\n    this._renderedComponent.mountComponent(\n      this._parent,\n      instance,\n      this._processChildContext(context),\n      childMounter\n    );\n\n    if (error) {\n      handleError(instance, error);\n    }\n\n    if (this._currentElement && this._currentElement.ref) {\n      Ref.attach(this._currentElement._owner, this._currentElement.ref, this);\n    }\n\n    performInSandbox(() => {\n      if (instance.componentDidMount) {\n        if (process.env.NODE_ENV !== 'production') {\n          measureLifeCycle(() => {\n            instance.componentDidMount();\n          }, this._mountID, 'componentDidMount');\n        } else {\n          instance.componentDidMount();\n        }\n      }\n    }, instance);\n\n    Host.hook.Reconciler.mountComponent(this);\n\n    if (process.env.NODE_ENV !== 'production') {\n      Host.measurer && Host.measurer.afterMountComponent(this._mountID);\n    }\n\n    return instance;\n  }\n\n  unmountComponent(notRemoveChild) {\n    let instance = this._instance;\n\n    performInSandbox(() => {\n      if (instance.componentWillUnmount) {\n        instance.componentWillUnmount();\n      }\n    }, instance);\n\n    Host.hook.Reconciler.unmountComponent(this);\n\n    instance._internal = null;\n\n    if (this._renderedComponent != null) {\n      let ref = this._currentElement.ref;\n      if (ref) {\n        Ref.detach(this._currentElement._owner, ref, this);\n      }\n\n      this._renderedComponent.unmountComponent(notRemoveChild);\n      this._renderedComponent = null;\n      this._instance = null;\n    }\n\n    this._currentElement = null;\n    this._parentInstance = null;\n\n    // Reset pending fields\n    // Even if this component is scheduled for another update in ReactUpdates,\n    // it would still be ignored because these fields are reset.\n    this._pendingStateQueue = null;\n    this._pendingForceUpdate = false;\n\n    // These fields do not really need to be reset since this object is no\n    // longer accessible.\n    this._context = null;\n  }\n\n  /**\n   * Filters the context object to only contain keys specified in\n   * `contextTypes`\n   */\n  _processContext(context) {\n    let Component = this._currentElement.type;\n    let contextTypes = Component.contextTypes;\n    if (!contextTypes) {\n      return {};\n    }\n    let maskedContext = {};\n    for (let contextName in contextTypes) {\n      maskedContext[contextName] = context[contextName];\n    }\n    return maskedContext;\n  }\n\n  _processChildContext(currentContext) {\n    let instance = this._instance;\n    let childContext = instance.getChildContext && instance.getChildContext();\n    if (childContext) {\n      return Object.assign({}, currentContext, childContext);\n    }\n    return currentContext;\n  }\n\n  _processPendingState(props, context) {\n    let instance = this._instance;\n    let queue = this._pendingStateQueue;\n    if (!queue) {\n      return instance.state;\n    }\n    // Reset pending queue\n    this._pendingStateQueue = null;\n    let nextState = Object.assign({}, instance.state);\n    for (let i = 0; i < queue.length; i++) {\n      let partial = queue[i];\n      Object.assign(\n        nextState,\n        typeof partial === 'function' ?\n        partial.call(instance, nextState, props, context) :\n        partial\n      );\n    }\n\n    return nextState;\n  }\n\n  updateComponent(\n    prevElement,\n    nextElement,\n    prevUnmaskedContext,\n    nextUnmaskedContext\n  ) {\n    let instance = this._instance;\n\n    if (process.env.NODE_ENV !== 'production') {\n      Host.measurer && Host.measurer.beforeUpdateComponent(this._mountID, this);\n    }\n\n    if (!instance) {\n      console.error(\n        `Update component '${this.getName()}' that has already been unmounted (or failed to mount).`\n      );\n    }\n\n    let willReceive = false;\n    let nextContext;\n    let nextProps;\n\n    // Determine if the context has changed or not\n    if (this._context === nextUnmaskedContext) {\n      nextContext = instance.context;\n    } else {\n      nextContext = this._processContext(nextUnmaskedContext);\n      willReceive = true;\n    }\n\n    // Distinguish between a props update versus a simple state update\n    if (prevElement === nextElement) {\n      // Skip checking prop types again -- we don't read component.props to avoid\n      // warning for DOM component props in this upgrade\n      nextProps = nextElement.props;\n    } else {\n      nextProps = nextElement.props;\n      willReceive = true;\n    }\n\n    let hasReceived = willReceive && instance.componentWillReceiveProps;\n\n    if (hasReceived) {\n      // Calling this.setState() within componentWillReceiveProps will not trigger an additional render.\n      this._pendingState = true;\n      performInSandbox(() => {\n        instance.componentWillReceiveProps(nextProps, nextContext);\n      }, instance);\n      this._pendingState = false;\n    }\n\n    // Update refs\n    Ref.update(prevElement, nextElement, this);\n\n    // Shoud update always default\n    let shouldUpdate = true;\n    let prevProps = instance.props;\n    let prevState = instance.state;\n    // TODO: could delay execution processPendingState\n    let nextState = this._processPendingState(nextProps, nextContext);\n\n    // ShouldComponentUpdate is not called when forceUpdate is used\n    if (!this._pendingForceUpdate) {\n      if (instance.shouldComponentUpdate) {\n        shouldUpdate = performInSandbox(() => {\n          return instance.shouldComponentUpdate(nextProps, nextState,\n            nextContext);\n        }, instance);\n      } else if (instance.isPureComponentClass) {\n        shouldUpdate = !shallowEqual(prevProps, nextProps) || !shallowEqual(\n          prevState, nextState);\n      }\n    }\n\n    if (shouldUpdate) {\n      this._pendingForceUpdate = false;\n      // Will set `this.props`, `this.state` and `this.context`.\n      let prevContext = instance.context;\n\n      // Cannot use this.setState() in componentWillUpdate.\n      // If need to update state in response to a prop change, use componentWillReceiveProps instead.\n      performInSandbox(() => {\n        if (instance.componentWillUpdate) {\n          instance.componentWillUpdate(nextProps, nextState, nextContext);\n        }\n      }, instance);\n\n      // Replace with next\n      this._currentElement = nextElement;\n      this._context = nextUnmaskedContext;\n      instance.props = nextProps;\n      instance.state = nextState;\n      instance.context = nextContext;\n\n      this._updateRenderedComponent(nextUnmaskedContext);\n\n      performInSandbox(() => {\n        if (instance.componentDidUpdate) {\n          instance.componentDidUpdate(prevProps, prevState, prevContext);\n        }\n      }, instance);\n\n      this._updateCount++;\n    } else {\n      // If it's determined that a component should not update, we still want\n      // to set props and state but we shortcut the rest of the update.\n      this._currentElement = nextElement;\n      this._context = nextUnmaskedContext;\n      instance.props = nextProps;\n      instance.state = nextState;\n      instance.context = nextContext;\n    }\n\n    // Flush setState callbacks set in componentWillReceiveProps\n    if (hasReceived) {\n      let callbacks = this._pendingCallbacks;\n      this._pendingCallbacks = null;\n      updater.runCallbacks(callbacks, instance);\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      Host.measurer && Host.measurer.afterUpdateComponent(this._mountID);\n    }\n\n    Host.hook.Reconciler.receiveComponent(this);\n  }\n\n  /**\n   * Call the component's `render` method and update the DOM accordingly.\n   */\n  _updateRenderedComponent(context) {\n    let prevRenderedComponent = this._renderedComponent;\n    let prevRenderedElement = prevRenderedComponent._currentElement;\n\n    let instance = this._instance;\n    let nextRenderedElement;\n\n    Host.component = this;\n\n    performInSandbox(() => {\n      if (process.env.NODE_ENV !== 'production') {\n        measureLifeCycle(() => {\n          nextRenderedElement = instance.render();\n        }, this._mountID, 'render');\n      } else {\n        nextRenderedElement = instance.render();\n      }\n    }, instance);\n\n    Host.component = null;\n\n    if (shouldUpdateComponent(prevRenderedElement, nextRenderedElement)) {\n      prevRenderedComponent.updateComponent(\n        prevRenderedElement,\n        nextRenderedElement,\n        prevRenderedComponent._context,\n        this._processChildContext(context)\n      );\n      if (process.env.NODE_ENV !== 'production') {\n        Host.measurer && Host.measurer.recordOperation({\n          instanceID: this._mountID,\n          type: 'update component',\n          payload: {}\n        });\n      }\n    } else {\n      let oldChild = prevRenderedComponent.getNativeNode();\n      prevRenderedComponent.unmountComponent(true);\n\n      this._renderedComponent = instantiateComponent(nextRenderedElement);\n      this._renderedComponent.mountComponent(\n        this._parent,\n        instance,\n        this._processChildContext(context),\n        (newChild, parent) => {\n          // TODO: Duplicate code in native component file\n          if (!Array.isArray(newChild)) {\n            newChild = [newChild];\n          }\n\n          // oldChild or newChild all maybe fragment\n          if (!Array.isArray(oldChild)) {\n            oldChild = [oldChild];\n          }\n\n          // If newChild count large then oldChild\n          let lastNewChild;\n          for (let i = 0; i < newChild.length; i++) {\n            let child = newChild[i];\n            if (oldChild[i]) {\n              Host.driver.replaceChild(child, oldChild[i]);\n            } else {\n              Host.driver.insertAfter(child, lastNewChild);\n            }\n            lastNewChild = child;\n          }\n\n          // If newChild count less then oldChild\n          if (newChild.length < oldChild.length) {\n            for (let i = newChild.length; i < oldChild.length; i++) {\n              Host.driver.removeChild(oldChild[i]);\n            }\n          }\n        }\n      );\n    }\n  }\n\n  getNativeNode() {\n    let renderedComponent = this._renderedComponent;\n    if (renderedComponent) {\n      return renderedComponent.getNativeNode();\n    }\n  }\n\n  getPublicInstance() {\n    let instance = this._instance;\n    // The Stateless components cannot be given refs\n    if (instance instanceof StatelessComponent) {\n      return null;\n    }\n    return instance;\n  }\n}\n\nexport default CompositeComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/composite.js","import Host from './host';\n\n/**\n * Stateless Component Class Wrapper\n */\nclass StatelessComponent {\n  constructor(pureRender) {\n    // A stateless function\n    this.pureRender = pureRender;\n  }\n  render() {\n    if (process.env.NODE_ENV !== 'production') {\n      Host.measurer && Host.measurer.beforeRender();\n    }\n\n    return this.pureRender(this.props, this.context);\n  }\n}\n\nexport default StatelessComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/stateless.js","function enqueueCallback(internal, callback) {\n  if (callback) {\n    let callbackQueue =\n      internal._pendingCallbacks ||\n      (internal._pendingCallbacks = []);\n    callbackQueue.push(callback);\n  }\n}\n\nfunction enqueueState(internal, partialState) {\n  if (partialState) {\n    let stateQueue =\n      internal._pendingStateQueue ||\n      (internal._pendingStateQueue = []);\n    stateQueue.push(partialState);\n  }\n}\n\nconst Updater = {\n  setState: function(component, partialState, callback) {\n    let internal = component._internal;\n\n    if (!internal) {\n      return;\n    }\n\n    enqueueState(internal, partialState);\n    enqueueCallback(internal, callback);\n\n    if (!internal._pendingState) {\n      this.runUpdate(component);\n    }\n  },\n\n  forceUpdate: function(component, callback) {\n    let internal = component._internal;\n\n    if (!internal) {\n      return;\n    }\n\n    internal._pendingForceUpdate = true;\n\n    enqueueCallback(internal, callback);\n    this.runUpdate(component);\n  },\n\n  runUpdate: function(component) {\n    let internal = component._internal;\n\n    if (!internal || !internal._renderedComponent) {\n      return;\n    }\n\n    // If updateComponent happens to enqueue any new updates, we\n    // shouldn't execute the callbacks until the next render happens, so\n    // stash the callbacks first\n    let callbacks = internal._pendingCallbacks;\n    internal._pendingCallbacks = null;\n\n    let prevElement = internal._currentElement;\n    let prevUnmaskedContext = internal._context;\n\n    if (internal._pendingStateQueue || internal._pendingForceUpdate) {\n      internal.updateComponent(\n        prevElement,\n        prevElement,\n        prevUnmaskedContext,\n        prevUnmaskedContext\n      );\n    }\n\n    this.runCallbacks(callbacks, component);\n  },\n\n  runCallbacks(callbacks, context) {\n    if (callbacks) {\n      for (let i = 0; i < callbacks.length; i++) {\n        callbacks[i].call(context);\n      }\n    }\n  }\n\n};\n\nexport default Updater;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/updater.js","const hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x, y) {\n  // SameValue algorithm\n  if (x === y) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y;\n  }\n}\n\n/**\n * Performs equality by iterating through keys on an object and returning false\n * when any key has values which are not strictly equal between the arguments.\n * Returns true when the values of all keys are strictly equal.\n */\nfunction shallowEqual(objA, objB) {\n  if (is(objA, objB)) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n    return false;\n  }\n\n  let keysA = Object.keys(objA);\n  let keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  for (let i = 0; i < keysA.length; i++) {\n    if (!hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport default shallowEqual;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/shallowEqual.js","import Host from './host';\nimport NativeComponent from './native';\nimport instance from './instance';\nimport instantiateComponent from './instantiateComponent';\nimport getElementKeyName from './getElementKeyName';\n\n/**\n * Fragment Component\n */\nclass FragmentComponent extends NativeComponent {\n  constructor(element) {\n    super(element);\n  }\n\n  mountComponent(parent, parentInstance, context, childMounter) {\n    // Parent native element\n    this._parent = parent;\n    this._parentInstance = parentInstance;\n    this._context = context;\n    this._mountID = Host.mountID++;\n\n    let instance = {\n      _internal: this,\n    };\n    this._instance = instance;\n\n    let fragment = this.getNativeNode();\n    let children = this._currentElement;\n\n    // Process children\n    this.mountChildren(children, context);\n\n    if (childMounter) {\n      childMounter(fragment, parent);\n    } else {\n      let isFragmentParent = Array.isArray(parent);\n      for (let i = 0; i < fragment.length; i++) {\n        let child = fragment[i];\n        // When the parent is also a fragment\n        if (isFragmentParent) {\n          parent.push(child);\n        } else {\n          Host.driver.appendChild(child, parent);\n        }\n      }\n    }\n\n    return instance;\n  }\n\n\n  mountChildren(children, context) {\n    let renderedChildren = this._renderedChildren = {};\n    let fragment = this.getNativeNode();\n\n    let renderedChildrenImage = children.map((element, index) => {\n      let renderedChild = instantiateComponent(element);\n      let name = getElementKeyName(renderedChildren, element, index);\n      renderedChildren[name] = renderedChild;\n      renderedChild._mountIndex = index;\n      // Mount\n      let mountImage = renderedChild.mountComponent(\n        this._parent,\n        this._instance,\n        context, (nativeNode) => {\n          if (Array.isArray(nativeNode)) {\n            for (let i = 0; i < nativeNode.length; i++) {\n              fragment.push(nativeNode[i]);\n            }\n          } else {\n            fragment.push(nativeNode);\n          }\n        }\n      );\n      return mountImage;\n    });\n\n    return renderedChildrenImage;\n  }\n\n  unmountComponent(notRemoveChild) {\n    if (this._nativeNode) {\n      instance.remove(this._nativeNode);\n      if (!notRemoveChild) {\n        for (let i = 0; i < this._nativeNode.length; i++) {\n          Host.driver.removeChild(this._nativeNode[i]);\n        }\n      }\n    }\n\n    // Do not need remove child when their parent is removed\n    this.unmountChildren(true);\n\n    this._currentElement = null;\n    this._nativeNode = null;\n    this._parent = null;\n    this._parentInstance = null;\n    this._context = null;\n    this._instance = null;\n  }\n\n  updateComponent(prevElement, nextElement, prevContext, nextContext) {\n    // Replace current element\n    this._currentElement = nextElement;\n    this.updateChildren(this._currentElement, nextContext);\n  }\n\n  getNativeNode() {\n    if (this._nativeNode == null) {\n      this._nativeNode = [];\n    }\n\n    return this._nativeNode;\n  }\n\n  getPublicInstance() {\n    return this.getNativeNode();\n  }\n\n  getName() {\n    return 'fragment';\n  }\n}\n\nexport default FragmentComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/vdom/fragment.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; /**\n                                                                                                                                                                                                                                                                               * Weex driver\n                                                                                                                                                                                                                                                                               */\n\n\nvar _styleUnit = require('style-unit');\n\nvar _elements = require('./elements');\n\nvar _elements2 = _interopRequireDefault(_elements);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar STYLE = 'style';\nvar ID = 'id';\nvar TEXT = 'text';\nvar CHILDREN = 'children';\nvar EVENT_PREFIX_REGEXP = /^on[A-Z]/;\nvar ARIA_PREFIX_REGEXP = /^aria-/;\n\nvar nodeMaps = {};\n/* global __weex_document__ */\nvar document = (typeof __weex_document__ === 'undefined' ? 'undefined' : _typeof(__weex_document__)) === 'object' ? __weex_document__ : (typeof document === 'undefined' ? 'undefined' : _typeof(document)) === 'object' ? document : null;\n\nvar Driver = {\n  deviceWidth: 750,\n  viewportWidth: 750,\n\n  getDeviceWidth: function getDeviceWidth() {\n    return this.deviceWidth;\n  },\n  setDeviceWidth: function setDeviceWidth(width) {\n    this.deviceWidth = width;\n  },\n  getViewportWidth: function getViewportWidth() {\n    return this.viewportWidth;\n  },\n  setViewportWidth: function setViewportWidth(width) {\n    this.viewportWidth = width;\n  },\n  getElementById: function getElementById(id) {\n    return nodeMaps[id];\n  },\n  createBody: function createBody() {\n    if (document.body) {\n      return document.body;\n    }\n\n    var documentElement = document.documentElement;\n    var body = document.createBody();\n    documentElement.appendChild(body);\n\n    return body;\n  },\n  createComment: function createComment(content) {\n    return document.createComment(content);\n  },\n  createEmpty: function createEmpty() {\n    return this.createComment(' empty ');\n  },\n  createText: function createText(text) {\n    return Driver.createElement({\n      type: TEXT,\n      props: {\n        value: text\n      }\n    });\n  },\n  updateText: function updateText(node, content) {\n    this.setAttribute(node, 'value', content);\n  },\n  createElement: function createElement(component) {\n    var htmlElement = _elements2.default[component.type];\n    if (htmlElement) {\n      component = htmlElement.parse(component);\n    }\n\n    var props = component.props;\n    var events = [];\n    var style = {};\n    var originStyle = props[STYLE];\n    for (var prop in originStyle) {\n      style[prop] = (0, _styleUnit.convertUnit)(originStyle[prop], prop);\n    }\n\n    var node = document.createElement(component.type, {\n      style: style\n    });\n\n    this.setNativeProps(node, props, true);\n\n    return node;\n  },\n  appendChild: function appendChild(node, parent) {\n    return parent.appendChild(node);\n  },\n  removeChild: function removeChild(node, parent) {\n    parent = parent || node.parentNode;\n    var id = node.attr && node.attr[ID];\n    if (id != null) {\n      nodeMaps[id] = null;\n    }\n    return parent.removeChild(node);\n  },\n  replaceChild: function replaceChild(newChild, oldChild, parent) {\n    parent = parent || oldChild.parentNode;\n    var previousSibling = oldChild.previousSibling;\n    var nextSibling = oldChild.nextSibling;\n    this.removeChild(oldChild, parent);\n\n    if (previousSibling) {\n      this.insertAfter(newChild, previousSibling, parent);\n    } else if (nextSibling) {\n      this.insertBefore(newChild, nextSibling, parent);\n    } else {\n      this.appendChild(newChild, parent);\n    }\n  },\n  insertAfter: function insertAfter(node, after, parent) {\n    parent = parent || after.parentNode;\n    return parent.insertAfter(node, after);\n  },\n  insertBefore: function insertBefore(node, before, parent) {\n    parent = parent || before.parentNode;\n    return parent.insertBefore(node, before);\n  },\n  addEventListener: function addEventListener(node, eventName, eventHandler) {\n    return node.addEvent(eventName, eventHandler);\n  },\n  removeEventListener: function removeEventListener(node, eventName, eventHandler) {\n    return node.removeEvent(eventName, eventHandler);\n  },\n  removeAllEventListeners: function removeAllEventListeners(node) {\n    // Noop\n  },\n  removeAttribute: function removeAttribute(node, propKey, propValue) {\n    if (propKey == ID) {\n      nodeMaps[propValue] = null;\n    }\n    // Weex native will crash when pass null value\n    return node.setAttr(propKey, undefined, false);\n  },\n  setAttribute: function setAttribute(node, propKey, propValue) {\n    if (propKey == ID) {\n      nodeMaps[propValue] = node;\n    }\n\n    // Weex only support `ariaLabel` format, convert `aria-label` format to camelcase\n    if (ARIA_PREFIX_REGEXP.test(propKey)) {\n      propKey = propKey.replace(/\\-(\\w)/, function (m, p1) {\n        return p1.toUpperCase();\n      });\n    }\n\n    return node.setAttr(propKey, propValue, false);\n  },\n  setStyles: function setStyles(node, styles) {\n    // TODO if more then one style update, call setStyles will be better performance\n    for (var key in styles) {\n      var val = styles[key];\n      val = (0, _styleUnit.convertUnit)(val, key);\n      node.setStyle(key, val);\n    }\n  },\n  beforeRender: function beforeRender() {\n    // Turn off batched updates\n    document.open();\n\n    // Init rem unit\n    (0, _styleUnit.setRem)(this.getDeviceWidth() / this.getViewportWidth());\n  },\n  afterRender: function afterRender() {\n    if (document.listener && document.listener.createFinish) {\n      document.listener.createFinish();\n    }\n\n    // Turn on batched updates\n    document.close();\n  },\n  setNativeProps: function setNativeProps(node, props, skipSetStyles) {\n    for (var prop in props) {\n      var value = props[prop];\n      if (prop === CHILDREN) {\n        continue;\n      }\n\n      if (value != null) {\n        if (prop === STYLE) {\n          if (skipSetStyles) {\n            continue;\n          }\n          this.setStyles(node, value);\n        } else if (EVENT_PREFIX_REGEXP.test(prop)) {\n          var eventName = prop.slice(2).toLowerCase();\n          this.addEventListener(node, eventName, value);\n        } else {\n          this.setAttribute(node, prop, value);\n        }\n      }\n    }\n  }\n};\n\nexports.default = Driver;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/driver-weex/lib/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _img = require('./img');\n\nvar _img2 = _interopRequireDefault(_img);\n\nvar _video = require('./video');\n\nvar _video2 = _interopRequireDefault(_video);\n\nvar _textarea = require('./textarea');\n\nvar _textarea2 = _interopRequireDefault(_textarea);\n\nvar _span = require('./span');\n\nvar _span2 = _interopRequireDefault(_span);\n\nvar _p = require('./p');\n\nvar _p2 = _interopRequireDefault(_p);\n\nvar _button = require('./button');\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _heading = require('./heading');\n\nvar _heading2 = _interopRequireDefault(_heading);\n\nvar _block = require('./block');\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  span: _span2.default,\n  p: _p2.default,\n  img: _img2.default,\n  button: _button2.default,\n  video: _video2.default,\n  textarea: _textarea2.default,\n  h1: _heading2.default,\n  h2: _heading2.default,\n  h3: _heading2.default,\n  h4: _heading2.default,\n  h5: _heading2.default,\n  h6: _heading2.default,\n  nav: _block2.default,\n  article: _block2.default,\n  section: _block2.default,\n  // Conflict with weex header tag\n  // header: block,\n  footer: _block2.default,\n  aside: _block2.default,\n  main: _block2.default\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/driver-weex/lib/elements/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parseProps = require('../parseProps');\n\nexports.default = {\n\n  /**\n   * parse w3c attrs to weex module attrs\n   *\n   * @param {Object} w3c component data\n   * @return {Object} weex component data\n   */\n  parse: function parse(component) {\n    var props = component.props;\n\n    component.type = 'image';\n\n    // modify props\n    component.props = (0, _parseProps.transformPropsAttrsToStyle)(props, ['width', 'height']);\n\n    return component;\n  }\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/driver-weex/lib/elements/img.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parseProps = require('../parseProps');\n\nexports.default = {\n\n  /**\n   * parse w3c attrs to weex module attrs\n   *\n   * @param {Object} w3c component data\n   * @return {Object} weex component data\n   */\n  parse: function parse(component) {\n    var props = component.props;\n\n    // modify props\n\n    component.props = (0, _parseProps.transformPropsAttrsToStyle)(props, ['width', 'height']);\n\n    return component;\n  }\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/driver-weex/lib/elements/video.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n\n  /**\n   * parse w3c attrs to weex module attrs\n   *\n   * @param {Object} w3c component data\n   * @return {Object} weex component data\n   */\n  parse: function parse(component) {\n    var props = component.props;\n\n\n    if (typeof props.children === 'string' && !props.value) {\n      props.value = props.children;\n      props.children = null;\n    }\n\n    return component;\n  }\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/driver-weex/lib/elements/textarea.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  parse: function parse(component) {\n    var props = component.props;\n\n    component.type = 'text';\n\n    if (typeof props.children === 'string' && !props.value) {\n      props.value = props.children;\n      props.children = null;\n    }\n\n    return component;\n  }\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/driver-weex/lib/elements/span.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar BASE_FONT_SIZE = 28;\n\nvar defaultParagraphStyle = {\n  fontSize: BASE_FONT_SIZE,\n  marginTop: BASE_FONT_SIZE,\n  marginBottom: BASE_FONT_SIZE\n};\n\nvar TypographyElements = {\n  u: {\n    textDecoration: 'underline'\n  },\n  s: {\n    textDecoration: 'line-through'\n  },\n  i: {\n    fontStyle: 'italic'\n  },\n  b: {\n    fontWeight: 'bold'\n  },\n  del: {\n    textDecoration: 'line-through'\n  },\n  em: {\n    fontStyle: 'italic'\n  },\n  strong: {\n    fontWeight: 'bold'\n  },\n  big: {\n    fontSize: BASE_FONT_SIZE * 1.2\n  },\n  small: {\n    fontSize: BASE_FONT_SIZE * 0.8\n  }\n};\n\nfunction transformString(string) {\n  return {\n    type: 'span',\n    attr: {\n      value: string\n    }\n  };\n}\n\nfunction transformChild(child) {\n  var type = child.type;\n  var props = child.props;\n  var style = props.style;\n  var nestedChildren = props.children;\n  // Alias img tag\n  if (type === 'img') {\n    type = 'image';\n  }\n\n  // Transfrom to span\n  if (TypographyElements[type]) {\n    style = _extends({}, TypographyElements[type], style);\n    type = 'span';\n  }\n\n  props.style = null;\n  props.children = null;\n\n  var element = {\n    type: type,\n    style: style,\n    attr: props || {}\n  };\n\n  if (nestedChildren) {\n    if (type === 'span' && typeof nestedChildren === 'string') {\n      element.attr.value = nestedChildren;\n    } else {\n      element.children = transformChildren(nestedChildren);\n    }\n  }\n\n  return element;\n}\n\nfunction transformChildren(children) {\n  var elements = [];\n  if (!Array.isArray(children)) {\n    children = [children];\n  }\n\n  for (var i = 0; i < children.length; i++) {\n    var child = children[i];\n    if (typeof child === 'string') {\n      elements.push(transformString(child));\n    } else if ((typeof child === 'undefined' ? 'undefined' : _typeof(child)) === 'object') {\n      elements.push(transformChild(child));\n    }\n  }\n\n  return elements;\n}\n\nexports.default = {\n  parse: function parse(component) {\n    var props = component.props;\n\n    var children = props.children;\n\n    component.type = 'richtext';\n\n    props.style = _extends({}, defaultParagraphStyle, props.style);\n\n    props.value = transformChildren(children);;\n    props.children = null;\n\n    return component;\n  }\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/driver-weex/lib/elements/p.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n/**\n * weex button\n *\n * props: disabled, style\n */\n\nexports.default = {\n  parse: function parse(component) {\n    var props = component.props;\n\n    component.type = 'text';\n\n    var style = props.style,\n        disabled = props.disabled,\n        children = props.children;\n\n\n    var textStyle = _extends({\n      textAlign: 'center',\n      fontSize: 22,\n      paddingTop: 4,\n      paddingRight: 12,\n      paddingBottom: 6,\n      paddingLeft: 12,\n      borderWidth: 4,\n      borderStyle: 'solid',\n      borderColor: '#000000',\n      backgroudColor: '#c0c0c0'\n    }, style);\n\n    if (disabled) {\n      props.onClick = null;\n      textStyle = _extends({}, textStyle, {\n        color: '#7f7f7f',\n        borderColor: '#7f7f7f'\n      });\n    }\n\n    if (typeof children === 'string') {\n      props.value = children;\n      props.children = null;\n    }\n\n    return component;\n  }\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/driver-weex/lib/elements/button.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar BASE_FONT_SIZE = 28;\n\nfunction generateHeadingStyle(baseFontSize, fontMultiplier, marginMultiplier) {\n  return {\n    fontSize: baseFontSize * fontMultiplier,\n    marginTop: baseFontSize * fontMultiplier * marginMultiplier,\n    marginBottom: baseFontSize * fontMultiplier * marginMultiplier,\n    fontWeight: 'bold'\n  };\n}\n\nvar HeadingElements = {\n  h1: generateHeadingStyle(BASE_FONT_SIZE, 2, 0.67),\n  h2: generateHeadingStyle(BASE_FONT_SIZE, 1.5, 0.83),\n  h3: generateHeadingStyle(BASE_FONT_SIZE, 1.17, 1),\n  h4: generateHeadingStyle(BASE_FONT_SIZE, 1, 1.33),\n  h5: generateHeadingStyle(BASE_FONT_SIZE, 0.83, 1.67),\n  h6: generateHeadingStyle(BASE_FONT_SIZE, 0.67, 2.33)\n};\n\nexports.default = {\n  parse: function parse(component) {\n    var type = component.type,\n        props = component.props;\n\n\n    component.type = 'text';\n    props.style = _extends({}, HeadingElements[type] || HeadingElements.h6, props.style);\n\n    if (typeof props.children === 'string' && !props.value) {\n      props.value = props.children;\n      props.children = null;\n    }\n\n    return component;\n  }\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/driver-weex/lib/elements/heading.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n\n  /**\n   * parse w3c attrs to weex module attrs\n   *\n   * @param {Object} w3c component data\n   * @return {Object} weex component data\n   */\n  parse: function parse(component) {\n    component.type = 'div';\n    return component;\n  }\n};\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/driver-weex/lib/elements/block.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _styleUnit = require('style-unit');\n\nvar _flexbox = require('./flexbox');\n\nvar _flexbox2 = _interopRequireDefault(_flexbox);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Web Browser driver\n **/\n\n/* global DEVICE_WIDTH, VIEWPORT_WIDTH */\n\nvar DANGEROUSLY_SET_INNER_HTML = 'dangerouslySetInnerHTML';\nvar CLASS_NAME = 'className';\nvar CLASS = 'class';\nvar STYLE = 'style';\nvar CHILDREN = 'children';\nvar EVENT_PREFIX_REGEXP = /on[A-Z]/;\n\nvar Driver = {\n\n  deviceWidth: typeof DEVICE_WIDTH !== 'undefined' && DEVICE_WIDTH || null,\n  viewportWidth: typeof VIEWPORT_WIDTH !== 'undefined' && VIEWPORT_WIDTH || 750,\n\n  getDeviceWidth: function getDeviceWidth() {\n    return this.deviceWidth || document.documentElement.clientWidth;\n  },\n  setDeviceWidth: function setDeviceWidth(width) {\n    this.deviceWidth = width;\n  },\n  getViewportWidth: function getViewportWidth() {\n    return this.viewportWidth;\n  },\n  setViewportWidth: function setViewportWidth(width) {\n    this.viewportWidth = width;\n  },\n  getElementById: function getElementById(id) {\n    return document.getElementById(id);\n  },\n  createBody: function createBody() {\n    return document.body;\n  },\n  createComment: function createComment(content) {\n    return document.createComment(content);\n  },\n  createEmpty: function createEmpty() {\n    return this.createComment(' empty ');\n  },\n  createText: function createText(text) {\n    return document.createTextNode(text);\n  },\n  updateText: function updateText(node, text) {\n    var textContentAttr = 'textContent' in document ? 'textContent' : 'nodeValue';\n    node[textContentAttr] = text;\n  },\n  createElement: function createElement(component) {\n    var node = document.createElement(component.type);\n    var props = component.props;\n\n    this.setNativeProps(node, props);\n\n    return node;\n  },\n  appendChild: function appendChild(node, parent) {\n    return parent.appendChild(node);\n  },\n  removeChild: function removeChild(node, parent) {\n    parent = parent || node.parentNode;\n    // Maybe has been removed when remove child\n    if (parent) {\n      parent.removeChild(node);\n    }\n  },\n  replaceChild: function replaceChild(newChild, oldChild, parent) {\n    parent = parent || oldChild.parentNode;\n    parent.replaceChild(newChild, oldChild);\n  },\n  insertAfter: function insertAfter(node, after, parent) {\n    parent = parent || after.parentNode;\n    var nextSibling = after.nextSibling;\n    if (nextSibling) {\n      parent.insertBefore(node, nextSibling);\n    } else {\n      parent.appendChild(node);\n    }\n  },\n  insertBefore: function insertBefore(node, before, parent) {\n    parent = parent || before.parentNode;\n    parent.insertBefore(node, before);\n  },\n  addEventListener: function addEventListener(node, eventName, eventHandler) {\n    return node.addEventListener(eventName, eventHandler);\n  },\n  removeEventListener: function removeEventListener(node, eventName, eventHandler) {\n    return node.removeEventListener(eventName, eventHandler);\n  },\n  removeAllEventListeners: function removeAllEventListeners(node) {\n    // noop\n  },\n  removeAttribute: function removeAttribute(node, propKey) {\n    if (propKey === DANGEROUSLY_SET_INNER_HTML) {\n      return node.innerHTML = null;\n    }\n\n    if (propKey === CLASS_NAME) {\n      propKey = CLASS;\n    }\n\n    if (propKey in node) {\n      node[propKey] = null;\n    }\n\n    node.removeAttribute(propKey);\n  },\n  setAttribute: function setAttribute(node, propKey, propValue) {\n    if (propKey === DANGEROUSLY_SET_INNER_HTML) {\n      return node.innerHTML = propValue.__html;\n    }\n\n    if (propKey === CLASS_NAME) {\n      propKey = CLASS;\n    }\n\n    if (propKey in node) {\n      node[propKey] = propValue;\n    } else {\n      node.setAttribute(propKey, propValue);\n    }\n  },\n  setStyles: function setStyles(node, styles) {\n    var tranformedStyles = {};\n\n    for (var prop in styles) {\n      var val = styles[prop];\n      if (_flexbox2.default.isFlexProp(prop)) {\n        _flexbox2.default[prop](val, tranformedStyles);\n      } else {\n        tranformedStyles[prop] = (0, _styleUnit.convertUnit)(val, prop);\n      }\n    }\n\n    for (var _prop in tranformedStyles) {\n      var transformValue = tranformedStyles[_prop];\n      // hack handle compatibility issue\n      if (Array.isArray(transformValue)) {\n        for (var i = 0; i < transformValue.length; i++) {\n          node.style[_prop] = transformValue[i];\n        }\n      } else {\n        node.style[_prop] = transformValue;\n      }\n    }\n  },\n  beforeRender: function beforeRender() {\n    // Init rem unit\n    (0, _styleUnit.setRem)(this.getDeviceWidth() / this.getViewportWidth());\n  },\n  setNativeProps: function setNativeProps(node, props) {\n    for (var prop in props) {\n      var value = props[prop];\n      if (prop === CHILDREN) {\n        continue;\n      }\n\n      if (value != null) {\n        if (prop === STYLE) {\n          this.setStyles(node, value);\n        } else if (EVENT_PREFIX_REGEXP.test(prop)) {\n          var eventName = prop.slice(2).toLowerCase();\n          this.addEventListener(node, eventName, value);\n        } else {\n          this.setAttribute(node, prop, value);\n        }\n      }\n    }\n  }\n};\n\nexports.default = Driver;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/driver-browser/lib/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar BOX_ALIGN = {\n  stretch: 'stretch',\n  'flex-start': 'start',\n  'flex-end': 'end',\n  center: 'center'\n};\n\nvar BOX_ORIENT = {\n  row: 'horizontal',\n  column: 'vertical'\n};\n\nvar BOX_PACK = {\n  'flex-start': 'start',\n  'flex-end': 'end',\n  center: 'center',\n  'space-between': 'justify',\n  'space-around': 'justify' // Just same as `space-between`\n};\n\nvar FLEX_PROPS = {\n  display: true,\n  flex: true,\n  alignItems: true,\n  alignSelf: true,\n  flexDirection: true,\n  justifyContent: true,\n  flexWrap: true\n};\n\nvar Flexbox = {\n  isFlexProp: function isFlexProp(prop) {\n    return FLEX_PROPS[prop];\n  },\n  display: function display(value) {\n    var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (value === 'flex') {\n      style.display = ['-webkit-box', '-webkit-flex', 'flex'];\n    } else {\n      style.display = value;\n    }\n\n    return style;\n  },\n  flex: function flex(value) {\n    var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    style.webkitBoxFlex = value;\n    style.webkitFlex = value;\n    style.flex = value;\n    return style;\n  },\n  flexWrap: function flexWrap(value) {\n    var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    style.flexWrap = value;\n    return style;\n  },\n  alignItems: function alignItems(value) {\n    var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    style.webkitBoxAlign = BOX_ALIGN[value];\n    style.webkitAlignItems = value;\n    style.alignItems = value;\n    return style;\n  },\n  alignSelf: function alignSelf(value) {\n    var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    style.webkitAlignSelf = value;\n    style.alignSelf = value;\n    return style;\n  },\n  flexDirection: function flexDirection(value) {\n    var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    style.webkitBoxOrient = BOX_ORIENT[value];\n    style.webkitFlexDirection = value;\n    style.flexDirection = value;\n    return style;\n  },\n  justifyContent: function justifyContent(value) {\n    var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    style.webkitBoxPack = BOX_PACK[value];\n    style.webkitJustifyContent = value;\n    style.justifyContent = value;\n    return style;\n  }\n};\n\nexports.default = Flexbox;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./packages/driver-browser/lib/flexbox.js","import instance from './vdom/instance';\n\nfunction findComponentInstance(node) {\n  if (node == null) {\n    return null;\n  }\n  return instance.get(node);\n}\n\nexport default findComponentInstance;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/findComponentInstance.js","import Host from './vdom/host';\nimport findDOMNode from './findDOMNode';\n\nexport default function setNativeProps(node, props) {\n  node = findDOMNode(node);\n  Host.driver.setNativeProps(node, props);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/setNativeProps.js","export default '0.4.11';\n\n\n\n// WEBPACK FOOTER //\n// ./packages/rax/src/version.js"],"sourceRoot":""}